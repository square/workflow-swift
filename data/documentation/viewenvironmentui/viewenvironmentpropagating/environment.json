{"schemaVersion":{"minor":3,"patch":0,"major":0},"sections":[],"identifier":{"url":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentPropagating\/environment","interfaceLanguage":"swift"},"kind":"symbol","metadata":{"title":"environment","role":"symbol","externalID":"s:17ViewEnvironmentUI0aB11PropagatingPAAE11environment0aB0AEVvp","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"environment","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:15ViewEnvironmentAAV","text":"ViewEnvironment","kind":"typeIdentifier"}],"symbolKind":"property","roleHeading":"Instance Property","modules":[{"name":"ViewEnvironmentUI"}],"extendedModule":"ViewEnvironmentUI"},"hierarchy":{"paths":[["doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI","doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentPropagating"]]},"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"environment","kind":"identifier"},{"text":": ","kind":"text"},{"text":"ViewEnvironment","preciseIdentifier":"s:15ViewEnvironmentAAV","kind":"typeIdentifier"},{"text":" { ","kind":"text"},{"text":"get","kind":"keyword"},{"text":" }","kind":"text"}],"platforms":["iOS"],"languages":["swift"]}]},{"kind":"content","content":[{"text":"Discussion","type":"heading","level":2,"anchor":"discussion"},{"type":"paragraph","inlineContent":[{"text":"If you’d like to provide overrides for the environment as it flows through a node, you should conform to","type":"text"},{"text":" ","type":"text"},{"code":"ViewEnvironmentObserving","type":"codeVoice"},{"text":" and provide those overrides in ","type":"text"},{"code":"customize(environment:)","type":"codeVoice"},{"text":". E.g.:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["func customize(environment: inout ViewEnvironment) {","    environment.traits.mode = .dark","}"]},{"type":"paragraph","inlineContent":[{"text":"By default, this property gets the environment by recursively walking to the root of the","type":"text"},{"text":" ","type":"text"},{"text":"propagation path, and applying customizations on the way back down. The invalidation path may be","type":"text"},{"text":" ","type":"text"},{"text":"interrupted if a node has set it’s ","type":"text"},{"code":"environmentAncestor","type":"codeVoice"},{"text":" to ","type":"text"},{"code":"nil","type":"codeVoice"},{"text":", even if there is a node","type":"text"},{"text":" ","type":"text"},{"text":"which specifies this node as an ","type":"text"},{"code":"environmentDescendant","type":"codeVoice"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"If you’d like to update the return value of this variable and have those changes propagated through the","type":"text"},{"text":" ","type":"text"},{"text":"propagation hierarchy, conform to ","type":"text"},{"code":"ViewEnvironmentObserving","type":"codeVoice"},{"text":" and call ","type":"text"},{"code":"setNeedsEnvironmentUpdate()","type":"codeVoice"},{"text":" and wait","type":"text"},{"text":" ","type":"text"},{"text":"for the system to call ","type":"text"},{"code":"apply(context:)","type":"codeVoice"},{"text":" when appropriate (e.g. on the next layout pass for","type":"text"},{"text":" ","type":"text"},{"code":"UIViewController","type":"codeVoice"},{"text":"\/","type":"text"},{"code":"UIView","type":"codeVoice"},{"text":" subclasses).","type":"text"}]},{"type":"aside","name":"Important","style":"important","content":[{"inlineContent":[{"text":"","type":"text"},{"type":"codeVoice","code":"UIViewController"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"UIView"},{"text":" conformers ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"must"}]},{"text":" call ","type":"text"},{"type":"codeVoice","code":"applyEnvironmentIfNeeded()"},{"text":" in","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"viewWillLayoutSubviews()"},{"type":"text","text":" and "},{"code":"layoutSubviews()","type":"codeVoice"},{"type":"text","text":" respectively."}],"type":"paragraph"}]}]}],"abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"ViewEnvironment"},{"type":"text","text":" that is flowing through the propagation hierarchy."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/viewenvironmentui\/viewenvironmentpropagating\/environment"]}],"references":{"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI/ViewEnvironmentPropagating/environment":{"abstract":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"ViewEnvironment"},{"text":" that is flowing through the propagation hierarchy.","type":"text"}],"kind":"symbol","identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentPropagating\/environment","title":"environment","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"environment"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:15ViewEnvironmentAAV","text":"ViewEnvironment"}],"url":"\/documentation\/viewenvironmentui\/viewenvironmentpropagating\/environment","type":"topic"},"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI/ViewEnvironmentPropagating":{"title":"ViewEnvironmentPropagating","type":"topic","abstract":[{"type":"text","text":"A node in a "},{"type":"codeVoice","code":"ViewEnvironment"},{"type":"text","text":" propagation tree."}],"identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentPropagating","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"text":"ViewEnvironmentPropagating","kind":"identifier"}],"kind":"symbol","navigatorTitle":[{"text":"ViewEnvironmentPropagating","kind":"identifier"}],"url":"\/documentation\/viewenvironmentui\/viewenvironmentpropagating","role":"symbol"},"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI":{"url":"\/documentation\/viewenvironmentui","kind":"symbol","abstract":[],"type":"topic","identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI","title":"ViewEnvironmentUI","role":"collection"}}}