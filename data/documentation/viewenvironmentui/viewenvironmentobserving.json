{"metadata":{"roleHeading":"Protocol","modules":[{"name":"ViewEnvironmentUI"}],"title":"ViewEnvironmentObserving","symbolKind":"protocol","externalID":"s:17ViewEnvironmentUI0aB9ObservingP","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ViewEnvironmentObserving"}],"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"ViewEnvironmentObserving"}]},"topicSections":[{"identifiers":["doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving\/apply(environment:)","doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving\/applyEnvironmentIfNeeded()","doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving\/customize(environment:)","doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving\/environmentDidChange()"],"anchor":"Instance-Methods","title":"Instance Methods","generated":true}],"abstract":[{"code":"ViewEnvironmentObserving","type":"codeVoice"},{"type":"text","text":" allows an environment propagation node to observe updates to the"},{"type":"text","text":" "},{"code":"ViewEnvironment","type":"codeVoice"},{"type":"text","text":" as it flows through the node hierarchy and have"},{"type":"text","text":" "},{"type":"text","text":"the environment applied to the node."}],"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/viewenvironmentui\/viewenvironmentobserving"]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["iOS"],"languages":["swift"],"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ViewEnvironmentObserving"},{"kind":"text","text":" : "},{"identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentPropagating","preciseIdentifier":"s:17ViewEnvironmentUI0aB11PropagatingP","kind":"typeIdentifier","text":"ViewEnvironmentPropagating"}]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For example, for a "},{"type":"codeVoice","code":"UIViewController"},{"type":"text","text":" hierarchy observing "},{"type":"codeVoice","code":"ViewEnvironment"},{"type":"text","text":":"}]},{"code":["final class MyViewController:","    UIViewController, ViewEnvironmentObserving","{","    override func viewWillLayoutSubviews() {","        super.viewWillLayoutSubviews()","","        \/\/ You _must_ call this function in viewWillLayoutSubviews()","        applyEnvironmentIfNeeded()","    }","","    func apply(environment: ViewEnvironment) {","        \/\/ Apply values from the environment to your view controller (e.g. a theme)","    }","","    \/\/ If you'd like to override values in the environment you can provide them here. If you'd","    \/\/ like to just inherit the context from above there is no need to implement this function.","    func customize(environment: inout ViewEnvironment) {","        environment.traits.mode = .dark","    }","}"],"syntax":"swift","type":"codeListing"},{"name":"Important","style":"important","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"type":"codeVoice","code":"UIViewController"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"UIView"},{"text":" conformers ","type":"text"},{"inlineContent":[{"text":"must","type":"text"}],"type":"emphasis"},{"text":" call ","type":"text"},{"type":"codeVoice","code":"applyEnvironmentIfNeeded()"},{"text":" ","type":"text"},{"text":"in ","type":"text"},{"type":"codeVoice","code":"viewWillLayoutSubviews()"},{"type":"text","text":" and "},{"code":"layoutSubviews()","type":"codeVoice"},{"type":"text","text":" respectively."}]}]}]}],"hierarchy":{"paths":[["doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI"]]},"relationshipsSections":[{"kind":"relationships","identifiers":["doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentPropagating"],"type":"inheritsFrom","title":"Inherits From"}],"identifier":{"url":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving","interfaceLanguage":"swift"},"references":{"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI":{"url":"\/documentation\/viewenvironmentui","kind":"symbol","abstract":[],"type":"topic","identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI","title":"ViewEnvironmentUI","role":"collection"},"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI/ViewEnvironmentObserving":{"kind":"symbol","title":"ViewEnvironmentObserving","url":"\/documentation\/viewenvironmentui\/viewenvironmentobserving","abstract":[{"code":"ViewEnvironmentObserving","type":"codeVoice"},{"text":" allows an environment propagation node to observe updates to the","type":"text"},{"text":" ","type":"text"},{"code":"ViewEnvironment","type":"codeVoice"},{"text":" as it flows through the node hierarchy and have","type":"text"},{"text":" ","type":"text"},{"text":"the environment applied to the node.","type":"text"}],"role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ViewEnvironmentObserving"}],"navigatorTitle":[{"kind":"identifier","text":"ViewEnvironmentObserving"}],"identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving"},"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI/ViewEnvironmentObserving/environmentDidChange()":{"url":"\/documentation\/viewenvironmentui\/viewenvironmentobserving\/environmentdidchange()","type":"topic","title":"environmentDidChange()","abstract":[{"text":"Called when the environment has been set for needing update, but before it has been applied.","type":"text"}],"kind":"symbol","defaultImplementations":1,"identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving\/environmentDidChange()","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"environmentDidChange","kind":"identifier"},{"text":"()","kind":"text"}],"required":true,"role":"symbol"},"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI/ViewEnvironmentPropagating":{"title":"ViewEnvironmentPropagating","type":"topic","abstract":[{"type":"text","text":"A node in a "},{"type":"codeVoice","code":"ViewEnvironment"},{"type":"text","text":" propagation tree."}],"identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentPropagating","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"text":"ViewEnvironmentPropagating","kind":"identifier"}],"kind":"symbol","navigatorTitle":[{"text":"ViewEnvironmentPropagating","kind":"identifier"}],"url":"\/documentation\/viewenvironmentui\/viewenvironmentpropagating","role":"symbol"},"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI/ViewEnvironmentObserving/customize(environment:)":{"defaultImplementations":1,"title":"customize(environment:)","type":"topic","role":"symbol","abstract":[{"type":"text","text":"Customizes the "},{"type":"codeVoice","code":"ViewEnvironment"},{"type":"text","text":" as it flows through this propagation node to provide overrides to environment"},{"type":"text","text":" "},{"type":"text","text":"values. These customizations will apply to the environment on this node (e.g. "},{"type":"codeVoice","code":"self.environment"},{"type":"text","text":" and the"},{"type":"text","text":" "},{"type":"text","text":"parameter of "},{"type":"codeVoice","code":"apply(environment:)"},{"type":"text","text":") and will be propagated to all descendant nodes."}],"kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"customize","kind":"identifier"},{"text":"(","kind":"text"},{"text":"environment","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"inout","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ViewEnvironment","kind":"typeIdentifier","preciseIdentifier":"s:15ViewEnvironmentAAV"},{"text":")","kind":"text"}],"url":"\/documentation\/viewenvironmentui\/viewenvironmentobserving\/customize(environment:)","required":true,"identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving\/customize(environment:)"},"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI/ViewEnvironmentObserving/apply(environment:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"apply","kind":"identifier"},{"text":"(","kind":"text"},{"text":"environment","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"ViewEnvironment","kind":"typeIdentifier","preciseIdentifier":"s:15ViewEnvironmentAAV"},{"text":")","kind":"text"}],"defaultImplementations":1,"required":true,"type":"topic","kind":"symbol","url":"\/documentation\/viewenvironmentui\/viewenvironmentobserving\/apply(environment:)","identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving\/apply(environment:)","title":"apply(environment:)","abstract":[{"text":"Consumers should apply the ","type":"text"},{"code":"ViewEnvironment","type":"codeVoice"},{"text":" to their node when this function is called.","type":"text"}],"role":"symbol"},"doc://ViewEnvironmentUI/documentation/ViewEnvironmentUI/ViewEnvironmentObserving/applyEnvironmentIfNeeded()":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"applyEnvironmentIfNeeded","kind":"identifier"},{"text":"()","kind":"text"}],"required":true,"type":"topic","kind":"symbol","url":"\/documentation\/viewenvironmentui\/viewenvironmentobserving\/applyenvironmentifneeded()","identifier":"doc:\/\/ViewEnvironmentUI\/documentation\/ViewEnvironmentUI\/ViewEnvironmentObserving\/applyEnvironmentIfNeeded()","title":"applyEnvironmentIfNeeded()","abstract":[{"type":"text","text":"Consumers must call this function when environment updates should be applied."}],"role":"symbol"}}}